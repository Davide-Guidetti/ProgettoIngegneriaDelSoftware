<!DOCTYPE html>
<html lang="it">
<head>
	<title>AZUDU</title>
	<meta charset="utf-8">

	<!-- script for usage of bootstrap, with jquery-->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
	<script src="http://cdn.rawgit.com/Eonasdan/bootstrap-datetimepicker/a549aa8780dbda16f6cff545aeabc3d71073911e/src/js/bootstrap-datetimepicker.js"></script>
	<link href="http://cdn.rawgit.com/Eonasdan/bootstrap-datetimepicker/a549aa8780dbda16f6cff545aeabc3d71073911e/build/css/bootstrap-datetimepicker.css" rel="stylesheet"/>

	
	<script type="text/javascript" src="jquery-v3.5.1.min.js"></script>
	
	<script>
		function DefineTable(){
			//here request Ajax to server to see compatible plan
			
			$.ajax({
				url: "/MyTemplate/servletcontroller", //server per richiedere la lista di competenze presenti
				async: false, //non rende asincrona la richiesta, in questo modo si caricano correttamente le competenze
				type: 'post',
				data: {
					getComitati: true
				},
				success: function(Obj){
					Obj = JSON.parse(Obj);
					for(var i = 0; i < Object.keys(Obj).length; i += 1){
						console.log(Obj[i].nomeComitato);
						document.getElementById("bodyTable").innerHTML+="<tr><tr><td>"+Obj[i].nomeComitato+"</td><td><a href=\"http://localhost:8080/MyTemplate/pages/azudo/gestioneCoordinatori.html?nomeComitato="+Obj[i].nomeComitato+"\"> <button type=\"button\" class=\"btn btn-secondary btn-sm\">Vai</button></a></td></tr></tr>";
					}

				}
			});
			
			
		}
	</script>

</head>
<body onload="DefineTable()">
	<!-- Title -->
	<div class="jumbotron text-center" style="margin-bottom:0">
		<h1>AZUDU</h1>
		<!--<p></p> -->
	</div>

	<!-- navbar-->
	<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
		
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
		<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="collapsibleNavbar">
		<ul class="navbar-nav">
			<li class="nav-item">
			<a class="nav-link" href="http://localhost:8080/MyTemplate/pages/azudo/gestioneComitati.html">Gestione comitati</a>
			</li>
			<li class="nav-item">
			<a class="navbar-brand">Selezione gestione coordinatori</a>
			</li>
			<li class="nav-item">
			<a class="nav-link" href="http://localhost:8080/MyTemplate/pages/azudo/gestioneCompetenze.html">Gestione competenze</a>
			</li>
			
		</ul>
		</div>    
	</nav>
	<br>
	<!--table-->
	<div class="container" style="margin-top:30px">
		<div >
		  <h2>COMITATI GESTIONE COORDINATORI</h2>
		  <br>
		  <table class="table">
			<thead class="thead-dark">
			  <tr>
				<th colspan="2" scope="col">Seleziona Comitato</th>
			  </tr>
			</thead>
			<tbody id="bodyTable">
			</tbody>
		  </table>
		</div>
		<br>
	</div>

	<!--footer-->
	<div class="jumbotron text-center" style="margin-bottom:0">
		<h2>Footer</h2>
	</div>
	  
	
</body>
</html>
